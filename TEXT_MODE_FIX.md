# テキストモード真っ白問題の修正

## 問題
テキストモードに切り替えると、画面が真っ白（何も表示されない）に見える。

## 原因
PDF解析は3段階で進行：
1. Phase 1: テキストと座標（高速）
2. Phase 2: 背景画像（中速）
3. Phase 3: 図表認識（低速）

テキストモードはPhase 1完了時点で表示可能になるが、Phase 2の背景画像がまだ届いていないため、透明テキストだけが存在し、真っ白に見えていた。

## 解決策
画像読み込み状態を追加し、以下の3つの状態を適切に表示：

1. **画像URLなし** → 「ページを処理中...」
2. **画像URL有り、読み込み中** → 「画像を読み込み中...」
3. **画像読み込み完了** → テキストレイヤーを表示

## 変更ファイル
- `frontend/src/components/PDF/TextModePage.tsx` - ローディング表示追加
- `frontend/src/components/PDF/PDFViewer.tsx` - ボタン状態表示追加

## 効果
- ユーザーが「壊れている」と誤解することを防ぐ
- 処理の進行状況が視覚的にわかる
- クリックモードとテキストモードの挙動が統一される

---

**実施日**: 2026年2月7日
**詳細**: `plans/20260207-text-mode-white-screen-fix.md`
