name = "paperterrace"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Workers configuration
workers_dev = true

# Environment variables (non-sensitive)
[vars]
BACKEND_TUNNEL_URL = "https://tunnel.paperterrace.page" # トンネルの裏口
ALLOWED_ORIGINS = "https://paperterrace.pages.dev,https://www.paperterrace.page,https://paperterrace.page,http://localhost:5173"
RATE_LIMIT_REQUESTS = "100"
RATE_LIMIT_WINDOW = "60"

# KV Namespace for rate limiting
[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "e699d25a697542babdc2343bfc75866b"

# Secrets (set via: wrangler secret put SECRET_NAME)
# - FIREBASE_PROJECT_ID
# - FIREBASE_CLIENT_EMAIL
# - FIREBASE_PRIVATE_KEY

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1