# PaperTerrace Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# Google Cloud / AI Provider Settings
# =============================================================================
# GCP_PROJECT=your-gcp-project-id
# GCP_REGION=asia-northeast1
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# AI Model Settings
MODEL_OCR=gemini-1.5-flash
MODEL_TRANSLATE=gemini-1.5-flash
MODEL_VISION=gemini-1.5-flash

# =============================================================================
# ServiceB（推論サービス）連携設定
# =============================================================================
# 推論サービスのURL（ServiceB）
INFERENCE_SERVICE_URL=https://inference-service-xxx.run.app
# 推論サービスのタイムアウト（秒）
INFERENCE_SERVICE_TIMEOUT=30
# 推論サービスのリトライ回数
INFERENCE_SERVICE_RETRIES=3

# =============================================================================
# CPU / Thread Optimization (ONNX Runtime + CTranslate2) - ServiceB用
# =============================================================================
# 注意: これらの設定はServiceBで使用されます。ServiceAでは不要です。

# ONNX Runtime threads for Paddle-layout-m (Layout Detection)
ORT_INTRA_THREADS=4
ORT_INTER_THREADS=2

# CTranslate2 threads for M2M100 (Local Translation)
CT2_INTER_THREADS=1
CT2_INTRA_THREADS=4

# =============================================================================
# Model Paths - ServiceB用
# =============================================================================
# 注意: これらの設定はServiceBで使用されます。ServiceAでは不要です。

# Path to ONNX layout detection model
LAYOUT_MODEL_PATH=models/layout_m.onnx

# Path to CTranslate2 M2M100 model directory
LOCAL_MODEL_PATH=models/m2m100_ct2

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis host (localhost for development, Memorystore IP for production)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# Redis connection timeout settings (for cloud environments)
# REDIS_SOCKET_TIMEOUT=10
# REDIS_SOCKET_CONNECT_TIMEOUT=10

# =============================================================================
# Storage Settings
# =============================================================================
# For production, use GCS
# STORAGE_BUCKET=your-bucket-name
# For local development, images are stored locally
# LOCAL_STORAGE_PATH=static/paper_images

# =============================================================================
# Database Settings
# =============================================================================
# DATABASE_URL=sqlite:///./data/paperterrace.db
# For production with Cloud SQL:
# DATABASE_URL=postgresql://user:password@host:port/database

# =============================================================================
# Application Settings
# =============================================================================
MAX_CONTEXT_LENGTH=800

# Enable Cloud Tasks for background processing (production only)
# CLOUD_TASKS_ENABLED=true
# CLOUD_TASKS_QUEUE=paper-processing
# CLOUD_RUN_URL=https://your-service-url.run.app
